{"version":3,"sources":["app/app.coffee","app/scripts/controllers.coffee","app/scripts/datastore.coffee","app/scripts/directives.coffee","app/scripts/filters.coffee","app/scripts/services.coffee"],"names":[],"mappings":"AAAA;AAAA;;AAGA,MAAM,OAAO,CAAC,MAAR,CAAe,KAAf,EAAsB,CAC1B,WAD0B,EAE1B,YAF0B,EAG1B,SAH0B,EAI1B,iBAJ0B,EAK1B,gBAL0B,EAM1B,aAN0B,EAO1B,cAP0B,EAQ1B,UAR0B,CAAtB;;AAWN,GAAG,CAAC,MAAJ,CAAW;EACT,gBADS,EAET,mBAFS,EAIX,SAAC,cAAD,EAAiB,iBAAjB,EAAoC,MAApC;IAEE,cAEE,CAAC,IAFH,CAEQ,OAFR,EAEiB;MAAC,aAAa,qBAAd;KAFjB,CAGE,CAAC,IAHH,CAGQ,QAHR,EAGkB;MAAC,aAAa,yBAAd;KAHlB,CAIE,CAAC,IAJH,CAIQ,QAJR,EAIkB;MAAC,aAAa,yBAAd;KAJlB,CAOE,CAAC,SAPH,CAOa;MAAC,YAAY,OAAb;KAPb;WAUA,iBAAiB,CAAC,SAAlB,CAA4B,KAA5B;EAZF,CAJW;CAAX;CCdA;;AAEA;AAEA,OAAO,CAAC,MAAR,CAAe,iBAAf,EAAkC,EAAlC,CAEA,CAAC,UAFD,CAEY,SAFZ,EAEuB;EACrB,QADqB,EAErB,WAFqB,EAGrB,WAHqB,EAIrB,YAJqB,EAMvB,SAAC,MAAD,EAAS,SAAT,EAAoB,SAApB,EAA+B,UAA/B;IAIE,MAAM,CAAC,SAAP,GAAmB;IACnB,MAAM,CAAC,MAAP,CAAc,kBAAd,EAAkC,SAAC,IAAD;aAChC,MAAM,CAAC,WAAP,GAAqB,QAAQ;IADG,CAAlC;WAYA,MAAM,CAAC,QAAP,GAAkB,SAAC,EAAD;MAChB,IAAG,MAAM,CAAC,WAAW,CAAC,SAAnB,CAA6B,CAA7B,EAAgC,EAAE,CAAC,MAAnC,MAA8C,EAAjD;AACE,eAAO,SADT;OAAA;AAGE,eAAO,GAHT;;IADgB;EAjBpB,CANuB;CAFvB,CAgCA,CAAC,UAhCD,CAgCY,SAhCZ,EAgCuB;EACrB,QADqB,EAGvB,SAAC,MAAD;WACE,MAAM,CAAC,UAAP,GAAoB;EADtB,CAHuB;CAhCvB,CAuCA,CAAC,UAvCD,CAuCY,SAvCZ,EAuCuB;EACrB,QADqB,EAGvB,SAAC,MAAD;WACE;EADF,CAHuB;CAvCvB,CA8CA,CAAC,UA9CD,CA8CY,UA9CZ,EA8CwB;EACtB,QADsB,EAGxB,SAAC,MAAD;IAEE,MAAM,CAAC,KAAP,GAAe;MACb;QAAA,MAAM,eAAN;QACA,MAAM,IADN;OADa,EAIb;QAAA,MAAM,sBAAN;QACA,MAAM,KADN;OAJa;;IAQf,MAAM,CAAC,OAAP,GAAiB;MACf,MAAM,CAAC,KAAK,CAAC,IAAb,CACE;QAAA,MAAM,MAAM,CAAC,QAAb;QACA,MAAM,KADN;OADF;aAIA,MAAM,CAAC,QAAP,GAAkB;IALH;IAOjB,MAAM,CAAC,SAAP,GAAmB;AACjB;MAAA,QAAQ;MACR,OAAO,CAAC,OAAR,CAAgB,MAAM,CAAC,KAAvB,EAA8B,SAAC,IAAD;eAC5B,SAAS,CAAI,IAAI,CAAC,IAAR,GAAkB,CAAlB,GAAyB,CAA1B;MADmB,CAA9B;aAGA;IALiB;WAOnB,MAAM,CAAC,OAAP,GAAiB;AACf;MAAA,WAAW,MAAM,CAAC;MAClB,MAAM,CAAC,KAAP,GAAe;aACf,OAAO,CAAC,OAAR,CAAgB,QAAhB,EAA0B,SAAC,IAAD;QACxB,KAA+B,IAAI,CAAC,IAApC;iBAAA,MAAM,CAAC,KAAK,CAAC,IAAb,CAAkB,IAAlB;;MADwB,CAA1B;IAHe;EAxBnB,CAHwB;CA9CxB;CCJA;;AAAA,YAAY,wDAAa,OAAb,IAAwB,KAAC,UAAD,GAAa,EAAb;;AAOpC,SAAS,CAAC,MAAV,GAAmB,SAAC,IAAD;AAAU,UAAO,IAAP;AAAA,SACtB,QADsB;aACR;AADQ,SAGtB,YAHsB;aAGJ;AAHI,SAItB,UAJsB;aAIN;AAJM;AAMtB,aAAO;AANe;AAAV;;AASnB,oBAAoB;SAClB;IAAA,KAAK,SAAC,GAAD;aAAS,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,IAAI,CAAC,SAAL,CAAe,GAAf,CAArB,CAAX;IAAT,CAAL;IACA,KAAK,SAAC,GAAD,EAAM,KAAN;aAAgB,YAAY,CAAC,OAAb,CAAqB,IAAI,CAAC,SAAL,CAAe,GAAf,CAArB,EAA0C,IAAI,CAAC,SAAL,CAAe,KAAf,CAA1C;IAAhB,CADL;IAEA,UAAQ,SAAC,GAAD;aAAS,YAAY,CAAC,UAAb,CAAwB,IAAI,CAAC,SAAL,CAAe,GAAf,CAAxB;IAAT,CAFR;IAGA,OAAO;aAAG,YAAY,CAAC;IAAhB,CAHP;IAIA,OAAO;aAAG,YAAY,CAAC,KAAb;IAAH,CAJP;;AADkB;;AAOpB,wBAAwB;AACtB;EAAA,KAAK,aAAa,SAAb,EAAwB,KAAxB,EAA+B,uBAA/B,EAAwD,OAAO,IAAP,GAAc,GAAtE;EACL,QAAQ;IACN,KAAK,SAAC,KAAD,EAAQ,EAAR;aAAe,EAAE,CAAC,WAAH,CAAe,SAAC,EAAD;eAAQ,EAAE,CAAC,UAAH,CAAc,KAAd,EAAqB,EAArB,EAAyB,SAAC,EAAD,EAAK,MAAL;AAClE;4CAAA;;AAAK;iBAA6B,2FAA7B;2BAAA,MAAM,CAAC,IAAI,CAAC,IAAZ,CAAiB,CAAjB;AAAA;;;QAD6D,CAAzB;MAAR,CAAf;IAAf,CADC;;AAIR,SAAO;AANe;;AAQxB,sBAAsB;AACpB;AAAA;IACE,OAAO,QAAQ,MAAR;IACP,WAAW,QAAQ,QAAR,CAAiB,CAAC,GAAG,CAAC,QAAtB,GAAiC;IAC5C,QAAQ;MACN,YAAY,SAAC,IAAD;eAAc,SAAK;UAAE,UAAU,MAAI,IAAhB;UAAwB,UAAU,IAAlC;SAAL;MAAd,CADN;;AAGR,WAAO,MANT;GAAA;IAOM;IACJ,IAAG,CAAC,CAAC,IAAF,KAAU,kBAAb;aACE,OAAO,CAAC,KAAR,CAAc,wEAAd,EADF;KAAA;aAGE,OAAO,CAAC,KAAR,CAAc,CAAd,EAHF;KARF;;AADoB;CC/BtB;;AAEA;AAGA,OAAO,CAAC,MAAR,CAAe,gBAAf,EAAiC,CAE/B,cAF+B,CAAjC,CAKA,CAAC,SALD,CAKW,YALX,EAKyB;EACvB,SADuB,EAGzB,SAAC,OAAD;WAEE,SAAC,KAAD,EAAQ,GAAR,EAAa,KAAb;aACE,GAAG,CAAC,IAAJ,CAAS,OAAT;IADF;EAFF,CAHyB;CALzB;CCLA;;AAEA;AAEA,OAAO,CAAC,MAAR,CAAe,aAAf,EAA8B,EAA9B,CAEA,CAAC,MAFD,CAEQ,aAFR,EAEuB;EACrB,SADqB,EAGvB,SAAC,OAAD;WACE,SAAC,IAAD;aACE,OAAO,IAAP,CAAY,CAAC,OAAb,CAAqB,eAArB,EAAsC,OAAtC;IADF;EADF,CAHuB;CAFvB;CCJA;;AAEA;AAEA,OAAO,CAAC,MAAR,CAAe,cAAf,EAA+B,EAA/B,CAEA,CAAC,OAFD,CAES,SAFT,EAEoB;SAAG;AAAH,CAFpB","file":"_public/js/app.js","sourcesContent":["'use strict'\n\n# Declare app level module which depends on filters, and services\nApp = angular.module('app', [\n  'ngCookies'\n  'ngResource'\n  'ngRoute'\n  'app.controllers'\n  'app.directives'\n  'app.filters'\n  'app.services'\n  'partials'\n])\n\nApp.config([\n  '$routeProvider'\n  '$locationProvider'\n\n($routeProvider, $locationProvider, config) ->\n\n  $routeProvider\n\n    .when('/todo', {templateUrl: '/partials/todo.html'})\n    .when('/view1', {templateUrl: '/partials/partial1.html'})\n    .when('/view2', {templateUrl: '/partials/partial2.html'})\n\n    # Catch all\n    .otherwise({redirectTo: '/todo'})\n\n  # Without server side support html5 must be disabled.\n  $locationProvider.html5Mode(false)\n])\n","'use strict'\n\n### Controllers ###\n\nangular.module('app.controllers', [])\n\n.controller('AppCtrl', [\n  '$scope'\n  '$location'\n  '$resource'\n  '$rootScope'\n\n($scope, $location, $resource, $rootScope) ->\n\n  # Uses the url to determine if the selected\n  # menu item should have the class active.\n  $scope.$location = $location\n  $scope.$watch('$location.path()', (path) ->\n    $scope.activeNavId = path || '/'\n  )\n\n  # getClass compares the current url with the id.\n  # If the current url starts with the id it returns 'active'\n  # otherwise it will return '' an empty string. E.g.\n  #\n  #   # current url = '/products/1'\n  #   getClass('/products') # returns 'active'\n  #   getClass('/orders') # returns ''\n  #\n  $scope.getClass = (id) ->\n    if $scope.activeNavId.substring(0, id.length) == id\n      return 'active'\n    else\n      return ''\n])\n\n.controller('MyCtrl1', [\n  '$scope'\n\n($scope) ->\n  $scope.onePlusOne = 2\n])\n\n.controller('MyCtrl2', [\n  '$scope'\n\n($scope) ->\n  $scope\n])\n\n.controller('TodoCtrl', [\n  '$scope'\n\n($scope) ->\n\n  $scope.todos = [\n    text: \"learn angular\"\n    done: true\n  ,\n    text: \"build an angular app\"\n    done: false\n  ]\n\n  $scope.addTodo = ->\n    $scope.todos.push\n      text: $scope.todoText\n      done: false\n\n    $scope.todoText = \"\"\n\n  $scope.remaining = ->\n    count = 0\n    angular.forEach $scope.todos, (todo) ->\n      count += (if todo.done then 0 else 1)\n\n    count\n\n  $scope.archive = ->\n    oldTodos = $scope.todos\n    $scope.todos = []\n    angular.forEach oldTodos, (todo) ->\n      $scope.todos.push todo  unless todo.done\n\n])\n\n","DataStore = exports? and exports or @DataStore = {}\n\n# which kind of database do you want?\n# possible alternatives: \n# - \"simple\" => this will use the browser's localStorage mechanism. Simple, but synchronous/blocking !!\n# - \"relational\" => this will use the browser-internal sqlite implementation, \"Web SQL Database\"\n# - \"document\" => Use MongoDB's little brother: https://github.com/louischatriot/nedb\nDataStore.create = (type) -> switch type\n  when \"simple\" then createSimpleStore()\n  # when \"keyvalue\" then createKeyValueStore()\n  when \"relational\" then createRelationalStore()\n  when \"document\" then createDocumentStore()\n  # when \"triple\" then createTripleStore()\n  else return undefined\n\n# thin wrapper over localStorage\ncreateSimpleStore = ->\n  get: (key) -> JSON.parse localStorage.getItem JSON.stringify key\n  set: (key, value) -> localStorage.setItem JSON.stringify(key), JSON.stringify(value)\n  delete: (key) -> localStorage.removeItem JSON.stringify key\n  count: -> localStorage.length\n  clear: -> localStorage.clear()\n\ncreateRelationalStore = ->\n  db = openDatabase \"nwsqldb\", \"1.0\", \"embedded sql database\", 1024 * 1024 * 256\n  store = {\n    run: (query, fn) -> db.transaction (tx) -> tx.executeSql query, [], (tx, result) -> \n      fn? (result.rows.item(i) for i in [0 ... result.rows.length])\n  }\n  return store\n\ncreateDocumentStore = ->\n  try \n    NeDB = require \"nedb\"\n    datapath = require('nw.gui').App.dataPath + \"/nedb\"\n    store = {\n      collection: (name) -> new NeDB({ filename: \"/#{name}\", autoload: true });\n    }\n    return store\n  catch e\n    if e.code is \"MODULE_NOT_FOUND\" \n      console.error \"NeDB not found. Try `npm install nedb --save` inside of `/app/assets`.\" \n    else \n      console.error e \n","'use strict'\n\n### Directives ###\n\n# register the module with Angular\nangular.module('app.directives', [\n  # require the 'app.service' module\n  'app.services'\n])\n\n.directive('appVersion', [\n  'version'\n\n(version) ->\n\n  (scope, elm, attrs) ->\n    elm.text(version)\n])\n","'use strict'\n\n### Filters ###\n\nangular.module('app.filters', [])\n\n.filter('interpolate', [\n  'version',\n\n(version) ->\n  (text) ->\n    String(text).replace(/\\%VERSION\\%/mg, version)\n])\n","'use strict'\n\n### Sevices ###\n\nangular.module('app.services', [])\n\n.factory 'version', -> \"0.1\"\n"]}